(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{163:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return s(3856)}])},1941:function(e,t,s){"use strict";s.d(t,{g:function(){return a}});var r=s(5893);let a=e=>{let{children:t,title:s}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("main",{children:(0,r.jsxs)("div",{className:"h-screen flex flex-col justify-center bg-gray-50 py-12 sm:px-6 lg:px-8 items-center",children:[(0,r.jsx)("div",{className:"flex items-center justify-center my-9"}),(0,r.jsx)("section",{className:"overflow-hidden border-2 border-gray-300 rounded-xl ",children:(0,r.jsx)("div",{className:"flex min- overflow-hidden",children:(0,r.jsx)("div",{className:"flex flex-col justify-center flex-1 px-4 py-12 overflow-hidden sm:px-6 lg:flex-none lg:px-20 xl:px-24",children:(0,r.jsx)("div",{className:"w-full max-w-xl mx-auto lg:w-96",children:(0,r.jsx)("div",{children:t})})})})})]})})})}},4180:function(e,t,s){"use strict";s.d(t,{c:function(){return a}});var r=s(7294);let a=e=>{let[t,s]=(0,r.useState)(e);return{formulario:t,handleChange:e=>{let{name:r,value:a}=e.target;s({...t,[r]:a})},...t}}},3856:function(e,t,s){"use strict";s.r(t);var r=s(5893),a=s(7294),i=s(9921),l=s(4180),n=s(6154),c=s(1941),d=s(1163),o=s(1955),x=s(7525),m=s(6455),u=s.n(m);let f={isLoggedIn:!1,user:void 0};t.default=function(){let e=(0,d.useRouter)(),{user:t,loginUser:s,isLoggedIn:m}=(0,a.useContext)(x.Vo),[g,h]=(0,a.useState)(!1),[p,j]=(0,a.useState)(!0),{handleChange:y,formulario:b}=(0,l.c)({email:"",password:""}),v=async t=>{t.preventDefault(),h(!1);let r=await s(b.email,b.password);if(!r){h(!0),setTimeout(()=>h(!1),3e3),console.log("credenciales incorrectas"),u().fire({title:"Error",text:"Credencias Incorrectas, verifique usuario y/o contrase\xf1a.",icon:"error",confirmButtonText:"Ok",timer:4e3,timerProgressBar:!0,toast:!0,position:"center",showConfirmButton:!1}).then(e=>{e.dismiss===u().DismissReason.timer&&console.log("Notificaci\xf3n cerrada por temporizador")});return}e.replace("/reports.html")},[N,k]=(0,a.useReducer)(x.dX,f);(0,a.useEffect)(()=>{w()},[]);let w=async()=>{try{let{data:t}=await n.Z.get("".concat("http://192.188.58.82:3000/api/v2","/login/renew"),{headers:{"x-token":o.Z.get("token")}}),{token:s,usuario:r}=t;console.log(s,r),o.Z.set("token",s),k({type:"[Auth] - Login",payload:r}),e.replace("/reports.html").then(()=>j(!1))}catch(e){o.Z.remove("token"),j(!1)}};return p?(0,r.jsx)("div",{className:"flex items-center justify-center h-screen",children:"Cargando..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),(0,r.jsx)(i.A,{title:"Iniciar Sesi\xf3n",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,r.jsxs)("div",{className:"lg:w-1/2 pr-2 mb-5 lg:mb-0",children:[(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("h2",{className:"text-3xl font-bold leading-tight tracking-tight text-gray-800 md:text-2xl dark:text-slate-700 p-0 text-center text-green-700 mt-12",children:[(0,r.jsx)("br",{}),"Bienvenidos a la p\xe1gina de Reportes"]})}),(0,r.jsxs)("div",{className:"text-justify mt-5 ml-5",children:[(0,r.jsx)("p",{className:"text-lg text-gray-800 dark:text-gray-400",children:"\xa1Bienvenido a Schoolar Security - Reportes!"}),(0,r.jsx)("p",{className:"mt-3 text-md text-gray-700 dark:text-gray-400",children:"Nuestro sistema de inicio de sesi\xf3n te permite acceder a los reportes de incidentes de las Unidades Educativas. Para continuar, por favor, ingresa tu correo electr\xf3nico de administrador registrado. Esto te permitir\xe1 acceder a las funciones de gesti\xf3n de incidentes."}),(0,r.jsxs)("p",{className:"mt-3 text-md text-gray-700 dark:text-gray-400",children:["En caso que no dispongas de un correo electr\xf3nico de administrador o si perteneces a una de las unidades educativas y necesitas acceso, por favor, comun\xedcate con nosotros a trav\xe9s del siguiente correo electr\xf3nico de contacto:"," ",(0,r.jsx)("a",{className:"text-green-300 dark:text-blue-400",href:"mailto:lacastillo12@espe.edu.ec",children:"lacastillo12@espe.edu.ec"}),". Solicitando una cuenta de administrador con su respectiva justificaci\xf3n. Estaremos encantados de ayudarte a obtener acceso a los reportes obtenidos sobre los incidentes."]})]}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{className:"flex justify-center ",children:(0,r.jsxs)("div",{className:"bg-gray-200 rounded-lg p-6 shadow-md h-32 flex justify-center items-center text-center ml-5",children:[(0,r.jsx)("img",{src:"https://res.cloudinary.com/dmkvix7ds/image/upload/v1695635408/LuisCastillo_hg2kj1.png",alt:"Imagen del ingeniero",className:"w-19 h-20 rounded-full mr-3"}),(0,r.jsxs)("div",{className:"text-left text-black mt-5",children:[(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"text-lg font-semibold",children:"Ing. Luis Castillo"})}),(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"mt-1 text-sm",children:"0987800194"})}),(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"mt-1 text-sm font-semibold text-black-700",children:"DIRECTOR DE PROYECTO"})})]})]})})]}),(0,r.jsx)("div",{className:"lg:w-1/2 pl-4 mr-4",children:(0,r.jsxs)(c.g,{title:"Ingresar",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold leading-tight tracking-tight text-gray-800 md:text-2xl dark:text-slate-700 p-0",children:"Iniciar sesi\xf3n"}),(0,r.jsx)("div",{className:"mt-0",children:(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsxs)("form",{action:"#",method:"POST",className:"space-y-6",onSubmit:v,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"bblock mb-2 text-sm font-medium text-gray-900 dark:text-gray-900",children:"Direcci\xf3n de correo electr\xf3nico"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5  dark:border-gray-600 dark:placeholder-gray-400 dark:text-slate-800 dark:focus:ring-blue-500 dark:focus:border-blue-500",id:"email",name:"email",type:"email",autoComplete:"email",placeholder:"Tu correo electr\xf3nico",onChange:y})})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{htmlFor:"password",className:"block mb-1 text-sm font-medium text-gray-900 dark:text-gray-900",children:"Contrase\xf1a"}),(0,r.jsxs)("div",{className:"mt-1",children:[(0,r.jsx)("input",{className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5  dark:border-gray-600 dark:placeholder-gray-400 dark:text-slate-800 dark:focus:ring-blue-500 dark:focus:border-blue-500",id:"password",name:"password",type:"password",autoComplete:"current-password",placeholder:"Tu contrase\xf1a",onChange:y}),(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsx)("a",{href:"/seguridadVinculaciontwo/recover/recover.html",className:"text-xs font-medium text-gray-900 dark:text-gray-900 hover:text-primary-600 mt-2",children:"\xbfOlvidaste tu contrase\xf1a?"})})]})]}),(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsx)("div",{className:"text-sm bg-lime-500/10 rounded-lg pt-1 pb-1 mt-0 mb-0 text-center",children:"Esta secci\xf3n es exclusiva de usuarios administradores. Inicie sesi\xf3n como administrador para acceder."})}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",className:"w-full bg-color-primario hover:bg-primary-700 font-medium rounded-lg text-sm px-5 py-2.5 text-center text-white shadow",children:"Iniciar sesi\xf3n"})})]})})})]})})]})})]})}}},function(e){e.O(0,[675,557,455,921,774,888,179],function(){return e(e.s=163)}),_N_E=e.O()}]);