(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{163:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return s(1825)}])},1825:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var r=s(5893),a=s(7294),l=s(9921);let i=e=>{let[t,s]=(0,a.useState)(e);return{formulario:t,handleChange:e=>{let{name:r,value:a}=e.target;s({...t,[r]:a})},...t}};var n=s(6154);let d=e=>{let{children:t,title:s}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("main",{children:(0,r.jsxs)("div",{className:"h-screen flex flex-col justify-center bg-gray-50 py-12 sm:px-6 lg:px-8 items-center",children:[(0,r.jsx)("div",{className:"flex items-center justify-center my-9"}),(0,r.jsx)("section",{className:"overflow-hidden border-2 border-gray-300 rounded-xl ",children:(0,r.jsx)("div",{className:"flex min- overflow-hidden",children:(0,r.jsx)("div",{className:"flex flex-col justify-center flex-1 px-4 py-12 overflow-hidden sm:px-6 lg:flex-none lg:px-20 xl:px-24",children:(0,r.jsx)("div",{className:"w-full max-w-xl mx-auto lg:w-96",children:(0,r.jsx)("div",{children:t})})})})})]})})})};var c=s(1163),o=s(1955),x=s(7525);let m={isLoggedIn:!1,user:void 0};var u=function(){let e=(0,c.useRouter)(),{user:t,loginUser:s,isLoggedIn:u}=(0,a.useContext)(x.Vo),[g,h]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!0),{handleChange:j,formulario:y}=i({email:"",password:""}),b=async t=>{t.preventDefault(),h(!1);let r=await s(y.email,y.password);if(!r){h(!0),setTimeout(()=>h(!1),3e3);return}e.replace("/reports.html")},[v,N]=(0,a.useReducer)(x.dX,m);(0,a.useEffect)(()=>{k()},[]);let k=async()=>{try{let{data:t}=await n.Z.get("".concat("http://192.188.58.82:3000/api/v2","/login/renew"),{headers:{"x-token":o.Z.get("token")}}),{token:s,usuario:r}=t;console.log(s,r),o.Z.set("token",s),N({type:"[Auth] - Login",payload:r}),e.replace("/reports.html").then(()=>p(!1))}catch(e){o.Z.remove("token"),p(!1)}};return f?(0,r.jsx)("div",{className:"flex items-center justify-center h-screen",children:"Cargando..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),(0,r.jsx)(l.A,{title:"Auth",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,r.jsxs)("div",{className:"lg:w-1/2 pr-2 mb-5 lg:mb-0",children:[(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("h2",{className:"text-3xl font-bold leading-tight tracking-tight text-gray-800 md:text-2xl dark:text-slate-700 p-0 text-center text-green-700 mt-12",children:[(0,r.jsx)("br",{}),"Bienvenidos a la p\xe1gina de Reportes"]})}),(0,r.jsxs)("div",{className:"text-justify mt-5 ml-5",children:[(0,r.jsx)("p",{className:"text-lg text-gray-800 dark:text-gray-400",children:"\xa1Bienvenido a Schoolar Security - Reportes!"}),(0,r.jsx)("p",{className:"mt-3 text-md text-gray-600 dark:text-gray-400",children:"Nuestro sistema de inicio de sesi\xf3n te permite acceder a los reportes de incidentes de las Unidades Educativas. Para continuar, por favor, ingresa tu correo electr\xf3nico de administrador registrado a continuaci\xf3n. Esto te permitir\xe1 acceder a las funciones de gesti\xf3n de incidentes."}),(0,r.jsxs)("p",{className:"mt-3 text-md text-gray-600 dark:text-gray-400",children:["En caso de que no dispongas de un correo electr\xf3nico de administrador o si perteneces a una de las unidades educativas y necesitas acceso, por favor, comun\xedcate con nosotros a trav\xe9s del siguiente correo electr\xf3nico de contacto: ",(0,r.jsx)("a",{className:"text-green-300 dark:text-blue-400",href:"mailto:lacastillo12@espe.edu.ec",children:"lacastillo12@espe.edu.ec"}),". Estaremos encantados de ayudarte a obtener acceso a los reportes obtenidos sobre los incidentes."]})]}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{className:"flex justify-center ",children:(0,r.jsxs)("div",{className:"bg-gray-200 rounded-lg p-6 shadow-md h-32 flex justify-center items-center text-center ml-5",children:[(0,r.jsx)("img",{src:"https://res.cloudinary.com/dmkvix7ds/image/upload/v1695635408/LuisCastillo_hg2kj1.png",alt:"Imagen del ingeniero",className:"w-19 h-20 rounded-full mr-3"}),(0,r.jsxs)("div",{className:"text-left text-black mt-5",children:[(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"text-lg font-semibold",children:"Ing. Luis Castillo"})}),(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"mt-1 text-sm",children:"0987800194"})}),(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"mt-1 text-sm font-semibold text-black-700",children:"DIRECTOR DE PROYECTO"})})]})]})})]}),(0,r.jsx)("div",{className:"lg:w-1/2 pl-4 mr-4",children:(0,r.jsxs)(d,{title:"Ingresar",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold leading-tight tracking-tight text-gray-800 md:text-2xl dark:text-slate-700 p-0",children:"Iniciar sesi\xf3n"}),(0,r.jsx)("div",{className:"mt-0",children:(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsxs)("form",{action:"#",method:"POST",className:"space-y-6",onSubmit:b,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"bblock mb-2 text-sm font-medium text-gray-900 dark:text-gray-900",children:"Direcci\xf3n de correo electr\xf3nico"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5  dark:border-gray-600 dark:placeholder-gray-400 dark:text-slate-800 dark:focus:ring-blue-500 dark:focus:border-blue-500",id:"email",name:"email",type:"email",autoComplete:"email",placeholder:"Tu correo electr\xf3nico",onChange:j})})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{htmlFor:"password",className:"block mb-1 text-sm font-medium text-gray-900 dark:text-gray-900",children:"Contrase\xf1a"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5  dark:border-gray-600 dark:placeholder-gray-400 dark:text-slate-800 dark:focus:ring-blue-500 dark:focus:border-blue-500",id:"password",name:"password",type:"password",autoComplete:"current-password",placeholder:"Tu contrase\xf1a",onChange:j})})]}),(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsx)("div",{className:"text-sm bg-lime-500/10 rounded-lg pt-1 pb-1 mt-0 mb-0 text-center",children:"Esta secci\xf3n es exclusiva de usuarios administradores. Inicie sesi\xf3n como administrador para acceder."})}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",className:"w-full bg-color-primario hover:bg-primary-700 font-medium rounded-lg text-sm px-5 py-2.5 text-center text-white shadow",children:"Iniciar sesi\xf3n"})})]})})})]})})]})})]})}}},function(e){e.O(0,[675,557,921,774,888,179],function(){return e(e.s=163)}),_N_E=e.O()}]);